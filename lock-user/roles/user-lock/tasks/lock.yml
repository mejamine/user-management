- name: lock users
  ansible.builtin.user: 
    name: "{{item}}"
    password_lock: true
  loop: "{{ existing_users }}"

- name: Result
  ansible.builtin.debug:
    msg: "users {{existing_users}} locked"

- name: Non existing users
  ansible.builtin.debug:
    msg: "Non-existing users: {{ non_existing_users }}"
  when: non_existing_users | length > 0
